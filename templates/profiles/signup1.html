
<div class="div user-input">
    <form method="POST" role="form" class="form-horizontal" action="/test/">
        {% csrf_token %}
        <input type="number" class="code" name= "phone-number" placeholder="请输入手机号码" required maxlength="13">
        <input type="text" name= "verification-code" placeholder="请输入收到的验证码" required maxlength="6">
        <input type="submit" name="get-verification-code" value=" 获取验证码" onclick="settime(this);">
        <input type='submit' id="submit" name= "register" value="注册">
    </form>
</div>
<script type="text/javascript">
    
    //倒计时
    var countdown=60;
    function settime(val) {
        this.document.forms[0].submit();
        if (countdown == 0) {
            val.removeAttribute("disabled");
            val.value="获取验证码";
            countdown = 60;
            return false;
        } else {
            val.setAttribute("disabled", true);
            val.value="重新发送(" + countdown + ")";
            countdown--;
        }
        setTimeout(function() {
                   settime(val);
                   },1000);
    }
</script>
